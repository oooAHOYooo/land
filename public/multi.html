<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>AGSCOUT — Multifamily</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- Tailwind CDN -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              marker: {
                default: "#14b8a6",
                shortlist: "#06b6d4",
                visit: "#0ea5e9",
                offer: "#22c55e",
                hold: "#10b981",
                watch: "#10b981",
                skip: "#9ca3af",
                archived: "#9ca3af",
              },
            },
          },
        },
      };
    </script>
        
        <style>
      /* Enhanced Typography */
      .font-display { font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
      .font-body { font-family: 'Inter', 'SF Pro Text', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
      .font-mono { font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace; }
      
      /* Better text hierarchy */
      .text-display { font-size: 2.5rem; font-weight: 700; line-height: 1.1; letter-spacing: -0.025em; }
      .text-heading-1 { font-size: 2rem; font-weight: 600; line-height: 1.2; letter-spacing: -0.025em; }
      .text-heading-2 { font-size: 1.5rem; font-weight: 600; line-height: 1.3; letter-spacing: -0.025em; }
      .text-heading-3 { font-size: 1.25rem; font-weight: 600; line-height: 1.4; }
      .text-body-lg { font-size: 1.125rem; line-height: 1.6; }
      .text-body { font-size: 1rem; line-height: 1.6; }
      .text-body-sm { font-size: 0.875rem; line-height: 1.5; }
      .text-caption { font-size: 0.75rem; line-height: 1.4; font-weight: 500; }
      
      /* Enhanced colors */
      .text-primary { color: #0f172a; }
      .text-secondary { color: #475569; }
      .text-tertiary { color: #64748b; }
      .text-muted { color: #94a3b8; }
      
      /* Better form styling */
      .form-input { 
        border: 1px solid #e2e8f0;
        border-radius: 0.5rem;
        padding: 0.75rem 1rem;
        font-size: 0.875rem;
        line-height: 1.5;
        transition: all 0.2s ease;
      }
      .form-input:focus {
        outline: none;
        border-color: #0ea5e9;
        box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
      }
      
      /* Enhanced button styling */
      .btn-primary {
        background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
        color: white;
        font-weight: 600;
        padding: 0.75rem 1.5rem;
        border-radius: 0.5rem;
        transition: all 0.2s ease;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }
      .btn-primary:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
      }
      
      /* Card enhancements */
      .card {
        background: white;
        border-radius: 0.75rem;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
        border: 1px solid #f1f5f9;
        transition: all 0.2s ease;
      }
      .card:hover {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
      }
    </style>
        <!-- Alpine.js -->
        <script defer
            src="https://cdn.jsdelivr.net/npm/alpinejs@3.14.1/dist/cdn.min.js"></script>
        <!-- PapaParse -->
        <script
            src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
        <!-- Leaflet -->
        <link rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <!-- jsPDF (kept for consistency) -->
        <script
            src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/jspdf-autotable@3.8.2/dist/jspdf.plugin.autotable.min.js"></script>
    </head>
    <body class="bg-slate-50 text-slate-900 min-h-screen font-body" x-data="app()"
        x-init="init()">
        <div class="max-w-7xl mx-auto p-4 md:p-6 space-y-6">
            <header
                class="flex flex-col md:flex-row md:items-center md:justify-between gap-3">
                <div>
                    <h1 class="text-heading-1 font-display text-primary">AGSCOUT —
                        Multifamily</h1>
                    <p class="text-body-sm text-secondary mt-2">Local underwriting; data
                        stays in your browser.</p>
                </div>
                <div class="flex flex-wrap items-center gap-2">
                    <input type="file" class="hidden" x-ref="file"
                        accept=".csv,text/csv" @change="importCsv($event)" />
                    <input type="file" class="hidden" x-ref="jsonFile"
                        accept="application/json,.json"
                        @change="importJson($event)" />
                    <button
                        class="px-4 py-2 rounded-lg bg-white shadow-sm border border-slate-200 text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all duration-200 font-medium"
                        @click="$refs.file.click()">Import CSV</button>
                    <button
                        class="px-3 py-2 rounded-md bg-white shadow-sm border text-slate-700 hover:bg-slate-50"
                        @click="exportCsv()">Export CSV</button>
                    <button
                        class="px-3 py-2 rounded-md bg-white shadow-sm border text-slate-700 hover:bg-slate-50"
                        @click="exportJson()">Export JSON</button>
                    <button
                        class="btn-primary"
                        @click="openAdd()">+ Add Property</button>
                    <button
                        class="px-3 py-2 rounded-md bg-teal-600 text-white hover:bg-teal-700"
                        @click="openBulk()">Bulk Add</button>
                    <button
                        class="px-3 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700"
                        @click="loadCtA()">Load CT Sheet A</button>
                    <button
                        class="px-3 py-2 rounded-md bg-purple-600 text-white hover:bg-purple-700"
                        @click="loadCtB()">Load CT Sheet B</button>
                </div>
            </header>

            <section class="card p-4 md:p-6">
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                    <div>
                        <label class="text-caption text-secondary font-medium">State</label>
                        <select x-model="filters.state"
                            class="form-input mt-2 w-full bg-white">
                            <option value>Any</option>
                            <template x-for="s in uniqueStates()"
                                :key="s"><option :value="s"
                                    x-text="s"></option></template>
                        </select>
                    </div>
                    <div>
                        <label class="text-caption text-secondary font-medium">Min DSCR</label>
                        <input type="number" step="0.01"
                            x-model.number="filters.minDscr"
                            class="form-input mt-2 w-full" />
                    </div>
                    <div>
                        <label class="text-caption text-secondary font-medium">Min
                            CapRate</label>
                        <input type="number" step="0.01"
                            x-model.number="filters.minCap"
                            class="form-input mt-2 w-full" />
                    </div>
                    <div>
                        <label class="text-caption text-secondary font-medium">Max $/Unit</label>
                        <input type="number" step="1"
                            x-model.number="filters.maxPpu"
                            class="form-input mt-2 w-full" />
                    </div>
                    <div>
                        <label class="text-caption text-secondary font-medium">Search</label>
                        <input type="text"
                            x-model.debounce.300ms="filters.search"
                            placeholder="Address, City, Notes"
                            class="form-input mt-2 w-full" />
                    </div>
                </div>
            </section>

            <!-- Quick calculator -->
            <section class="card p-4 md:p-6">
                <h3 class="text-heading-3 text-primary mb-4">Quick Calculator</h3>
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div><label class="text-caption text-secondary font-medium">Purchase
                            price</label><input type="number" step="1"
                            x-model.number="calc.price"
                            class="form-input mt-2 w-full" /></div>
                    <div><label class="text-caption text-secondary font-medium">Down
                            %</label><input type="number" step="0.1"
                            x-model.number="calc.downPercent"
                            class="form-input mt-2 w-full" /></div>
                    <div><label
                            class="text-caption text-secondary font-medium">Units</label><input
                            type="number" step="1" x-model.number="calc.units"
                            class="form-input mt-2 w-full" /></div>
                    <div><label class="text-caption text-secondary font-medium">Rent per
                            unit</label><input type="number" step="1"
                            x-model.number="calc.rentPerUnit"
                            class="form-input mt-2 w-full" /></div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                    <div class="bg-slate-50 rounded-lg p-4">
                        <div class="text-caption text-secondary mb-2">Down payment</div>
                        <div class="text-heading-2 text-primary"
                            x-text="fmt.currency(calcDownPayment())"></div>
                    </div>
                    <div class="bg-slate-50 rounded-lg p-4">
                        <div class="text-caption text-secondary mb-2">Total monthly
                            rent</div>
                        <div class="text-heading-2 text-primary"
                            x-text="fmt.currency(calcTotalRentMonthly())"></div>
                    </div>
                </div>
            </section>

            <section class="card">
                <div class="p-4 md:p-6 flex items-center justify-between border-b border-slate-100">
                    <div class="text-body-sm text-secondary">Pins: <strong class="text-primary"
                            x-text="pinCount"></strong></div>
                </div>
                <div id="map" class="w-full h-80 md:h-96"></div>
            </section>

            <!-- Simple list of properties -->
            <section id="list" class="card p-4 md:p-6">
                <h3 class="text-heading-3 text-primary mb-4">Property List</h3>
                <ul class="list-disc pl-5 space-y-2">
                    <template x-for="row in filteredSorted()" :key="row.id">
                        <li class="text-body-sm">
                            <span class="font-medium" x-text="row.Address"></span>
                            <span class="text-tertiary"> — </span>
                            <span x-text="row.City + ', ' + row.State"></span>
                            <span class="text-tertiary"> · </span>
                            <span class="font-semibold" x-text="fmt.currency(row.Price)"></span>
                        </li>
                    </template>
                    <li x-show="filteredSorted().length===0" class="text-secondary text-body-sm">No results found</li>
                </ul>
            </section>

            <!-- Table (desktop) -->
            <section
                class="card overflow-hidden hidden md:block">
                <div class="overflow-x-auto">
                    <table class="min-w-[1200px] w-full">
                        <thead>
                            <tr
                                class="text-left text-caption text-secondary border-b border-slate-200 bg-slate-50">
                                <th class="px-4 py-3 font-medium">Tag</th>
                                <th class="px-4 py-3 font-medium">Address</th>
                                <th class="px-4 py-3 font-medium">City</th>
                                <th class="px-4 py-3 font-medium">State</th>
                                <th class="px-4 py-3 text-right font-medium">Units</th>
                                <th class="px-4 py-3 text-right font-medium">Rent/Unit</th>
                                <th class="px-4 py-3 text-right font-medium">Vac %</th>
                                <th class="px-4 py-3 text-right font-medium">EGI</th>
                                <th class="px-4 py-3 text-right font-medium">Taxes</th>
                                <th class="px-4 py-3 text-right font-medium">Ins</th>
                                <th class="px-4 py-3 text-right font-medium">OpEx</th>
                                <th class="px-4 py-3 text-right font-medium">NOI</th>
                                <th class="px-4 py-3 text-right font-medium">Price</th>
                                <th class="px-4 py-3 text-right font-medium">$/Unit</th>
                                <th class="px-4 py-3 text-right font-medium">Cap</th>
                                <th class="px-4 py-3 text-right font-medium">DSCR</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template x-for="row in filteredSorted()"
                                :key="row.id">
                                <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors duration-150">
                                    <td class="px-4 py-3">
                                        <select
                                            class="form-input text-sm"
                                            x-model="row.Tag"
                                            @change="onRowChanged(row)">
                                            <option>inbox</option><option>visit</option><option>shortlist</option><option>watch</option><option>offer</option><option>hold</option><option>skip</option><option>archived</option>
                                        </select>
                                    </td>
                                    <td class="px-4 py-3"><a
                                            class="text-teal-600 hover:underline font-medium"
                                            :href="row.Link" target="_blank"
                                            x-text="row.Address"></a></td>
                                    <td class="px-4 py-3 text-body-sm"
                                        x-text="row.City"></td>
                                    <td class="px-4 py-3 text-body-sm"
                                        x-text="row.State"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.number(row.Units, 0)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.currency(row.RentPerUnit)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.number(row.VacancyPercent, 1)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-semibold"
                                        x-text="fmt.currency(row._EGI)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.currency(row.TaxesAnnual)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.currency(row.InsuranceAnnual)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.currency(row.OpExAnnual)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-semibold"
                                        x-text="fmt.currency(row._NOI)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-semibold"
                                        x-text="fmt.currency(row.Price)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.currency(row._PricePerUnit)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.number(row._CapRate*100, 2)+'%'"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.number(row._DSCR, 2)"></td>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Add Modal -->
            <div x-show="modals.add" x-transition
                class="fixed inset-0 bg-black/40 flex items-end md:items-center justify-center z-50">
                <div
                    class="bg-white w-full md:max-w-2xl rounded-t-lg md:rounded-lg shadow-xl">
                    <div
                        class="p-4 border-b flex items-center justify-between"><h3
                            class="text-lg font-semibold">Add
                            property</h3><button
                            class="text-slate-500 hover:text-slate-700"
                            @click="modals.add=false">✕</button></div>
                    <form class="p-4 space-y-3" @submit.prevent="submitAdd()">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <div><label
                                    class="text-xs text-slate-500">Address</label><input
                                    x-model="form.Address" required
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label
                                    class="text-xs text-slate-500">City</label><input
                                    x-model="form.City" required
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label
                                    class="text-xs text-slate-500">State</label><input
                                    x-model="form.State" required
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label
                                    class="text-xs text-slate-500">Units</label><input
                                    type="number" step="1"
                                    x-model.number="form.Units"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Rent per
                                    Unit</label><input type="number" step="1"
                                    x-model.number="form.RentPerUnit"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Vacancy
                                    %</label><input type="number" step="0.1"
                                    x-model.number="form.VacancyPercent"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Other
                                    Income (mo)</label><input type="number"
                                    step="1"
                                    x-model.number="form.OtherIncomeMonthly"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Taxes
                                    (annual)</label><input type="number"
                                    step="1" x-model.number="form.TaxesAnnual"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Insurance
                                    (annual)</label><input type="number"
                                    step="1"
                                    x-model.number="form.InsuranceAnnual"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">OpEx
                                    (annual)</label><input type="number"
                                    step="1" x-model.number="form.OpExAnnual"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label
                                    class="text-xs text-slate-500">Price</label><input
                                    type="number" step="1"
                                    x-model.number="form.Price"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Down
                                    %</label><input type="number" step="0.1"
                                    x-model.number="form.DownPercent"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Rate
                                    %</label><input type="number" step="0.01"
                                    x-model.number="form.RatePercent"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">Term
                                    (years)</label><input type="number" step="1"
                                    x-model.number="form.TermYears"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label class="text-xs text-slate-500">HOA
                                    (monthly)</label><input type="number"
                                    step="1" x-model.number="form.HOAmonthly"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label
                                    class="text-xs text-slate-500">Link</label><input
                                    x-model="form.Link"
                                    class="mt-1 w-full px-3 py-2 border rounded-md"
                                    placeholder="https://..." /></div>
                            <div><label
                                    class="text-xs text-slate-500">Lat</label><input
                                    type="number" step="any"
                                    x-model.number="form.Lat"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div><label
                                    class="text-xs text-slate-500">Lon</label><input
                                    type="number" step="any"
                                    x-model.number="form.Lon"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                            <div class="md:col-span-2"><label
                                    class="text-xs text-slate-500">Notes</label><input
                                    x-model="form.Notes"
                                    class="mt-1 w-full px-3 py-2 border rounded-md" /></div>
                        </div>
                        <div
                            class="flex items-center justify-end gap-2 pt-2"><button
                                type="button"
                                class="px-3 py-2 rounded-md bg-white shadow-sm border"
                                @click="modals.add=false">Close</button><button
                                type="submit"
                                class="px-3 py-2 rounded-md bg-emerald-600 text-white hover:bg-emerald-700">Add
                                to Inbox</button></div>
                    </form>
                </div>
            </div>

            <!-- Bulk Modal -->
            <div x-show="modals.bulk" x-transition
                class="fixed inset-0 bg-black/40 flex items-end md:items-center justify-center z-50">
                <div
                    class="bg-white w-full md:max-w-5xl rounded-t-lg md:rounded-lg shadow-xl">
                    <div
                        class="p-4 border-b flex items-center justify-between"><h3
                            class="text-lg font-semibold">Bulk Add</h3><button
                            class="text-slate-500 hover:text-slate-700"
                            @click="modals.bulk=false">✕</button></div>
                    <div class="p-4 grid grid-cols-1 lg:grid-cols-2 gap-4">
                        <div>
                            <label class="text-xs text-slate-500">Paste CSV/TSV
                                or table (first row must be headers)</label>
                            <textarea x-model="bulk.raw"
                                class="mt-1 w-full h-56 px-3 py-2 border rounded-md font-mono text-sm"></textarea>
                            <div class="flex items-center gap-2 mt-2">
                                <button
                                    class="px-3 py-2 rounded-md bg-white shadow-sm border"
                                    @click="bulkPreview()">Preview</button>
                                <button
                                    class="px-3 py-2 rounded-md bg-indigo-600 text-white hover:bg-indigo-700"
                                    :disabled="bulk.preview.length===0"
                                    :class="bulk.preview.length===0 ? 'opacity-50 cursor-not-allowed' : ''"
                                    @click="bulkCommit()">Add to Inbox</button>
                            </div>
                        </div>
                        <div class="overflow-auto border rounded-md">
                            <table class="min-w-full">
                                <thead>
                                    <tr
                                        class="text-left text-xs text-slate-500 border-b">
                                        <template x-if="bulk.preview.length>0">
                                            <template x-for="h in bulk.headers"
                                                :key="h">
                                                <th class="px-3 py-2"
                                                    x-text="h"></th>
                                            </template>
                                        </template>
                                    </tr>
                                </thead>
                                <tbody>
                                    <template x-for="(r,idx) in bulk.preview"
                                        :key="idx">
                                        <tr class="border-b">
                                            <template x-for="h in bulk.headers"
                                                :key="h">
                                                <td class="px-3 py-1 text-sm"
                                                    x-text="r[h] ?? ''"></td>
                                            </template>
                                        </tr>
                                    </template>
                                    <tr x-show="bulk.preview.length===0">
                                        <td
                                            class="px-3 py-8 text-center text-slate-500 text-sm">Preview
                                            will appear here</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="p-4 pt-0 text-xs text-slate-500">Include headers
                        like
                        Address,City,State,Units,RentPerUnit,VacancyPercent,OtherIncomeMonthly,TaxesAnnual,InsuranceAnnual,OpExAnnual,Price,DownPercent,RatePercent,TermYears,HOAmonthly,Notes,Tag,Lat,Lon,Link</div>
                    <div class="p-4 pt-0 flex items-center justify-end"><button
                            class="px-3 py-2 rounded-md bg-white shadow-sm border"
                            @click="modals.bulk=false">Close</button></div>
                </div>
            </div>

            <!-- Single Family (simple section) -->
            <section class="card p-4 md:p-6">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-heading-3 text-primary">Single Family</h3>
                    <div class="flex items-center gap-3">
                        <input placeholder="Address"
                            class="form-input" x-ref="sfAddr">
                        <input placeholder="City"
                            class="form-input" x-ref="sfCity">
                        <input placeholder="State"
                            class="form-input w-20"
                            x-ref="sfState">
                        <input placeholder="Price" type="number"
                            class="form-input w-32"
                            x-ref="sfPrice">
                        <button
                            class="btn-primary"
                            @click="sfAddQuick($refs.sfAddr.value, $refs.sfCity.value, $refs.sfState.value, $refs.sfPrice.value)">+
                            Quick Add</button>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-[900px] w-full">
                        <thead>
                            <tr
                                class="text-left text-caption text-secondary border-b border-slate-200 bg-slate-50">
                                <th class="px-4 py-3 font-medium">Tag</th>
                                <th class="px-4 py-3 font-medium">Address</th>
                                <th class="px-4 py-3 font-medium">City</th>
                                <th class="px-4 py-3 font-medium">State</th>
                                <th class="px-4 py-3 text-right font-medium">Beds</th>
                                <th class="px-4 py-3 text-right font-medium">Baths</th>
                                <th class="px-4 py-3 text-right font-medium">Sqft</th>
                                <th class="px-4 py-3 text-right font-medium">Price</th>
                                <th class="px-4 py-3 text-right font-medium">Rent est.</th>
                            </tr>
                        </thead>
                        <tbody>
                            <template x-for="row in singleRows"
                                :key="row.Address + row.City + row.State">
                                <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors duration-150">
                                    <td class="px-4 py-3">
                                        <select
                                            class="form-input text-sm"
                                            x-model="row.Tag">
                                            <option>inbox</option><option>visit</option><option>shortlist</option><option>watch</option><option>offer</option><option>hold</option><option>skip</option><option>archived</option>
                                        </select>
                                    </td>
                                    <td class="px-4 py-3"><a
                                            class="text-teal-600 hover:underline font-medium"
                                            :href="row.Link" target="_blank"
                                            x-text="row.Address"></a></td>
                                    <td class="px-4 py-3 text-body-sm"
                                        x-text="row.City"></td>
                                    <td class="px-4 py-3 text-body-sm"
                                        x-text="row.State"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.number(row.Beds, 0)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.number(row.Baths, 0)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.number(row.Sqft, 0)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-semibold"
                                        x-text="fmt.currency(row.Price)"></td>
                                    <td class="px-4 py-3 text-right text-body-sm font-medium"
                                        x-text="fmt.currency(row.RentZestimate)"></td>
                                </tr>
                            </template>
                            <tr x-show="singleRows.length===0"><td colspan="9"
                                    class="px-4 py-8 text-center text-secondary text-body-sm">No
                                    single family properties</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>

        <script type="module" src="./js/app-multi.js"></script>
    </body>
</html>
